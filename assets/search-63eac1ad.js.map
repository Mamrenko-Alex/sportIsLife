{"version":3,"file":"search-63eac1ad.js","sources":["../../src/js/search.js"],"sourcesContent":["import { makeMarkupCards } from './exercises';\nimport fetchSportEnergy from './api/apiSport';\nimport * as pagination from './pagination/pagination';\nimport { message } from './toasts/message';\n\nconst form = document.querySelector('.form-js');\nconst paginationNumbers = document.querySelector('.pagination-numbers');\nform.addEventListener('submit', handlerSearch);\n\nasync function handlerSearch(e) {\n  e.preventDefault();\n  const value = e.target.elements.search.value.trim();\n  if (!value) return;\n  let { categoryName } = JSON.parse(localStorage.getItem('infoRequest'));\n\n  let transformCategoryName = categoryName.toLocaleLowerCase().replaceAll(' ', '');\n  \n  if (transformCategoryName === 'bodyparts') {\n    transformCategoryName = 'bodypart';\n  }\n  const dataExercises = {\n    [transformCategoryName]: value,\n    page: 1,\n    limit: 10,\n  };\ntry {\n  const exercises = await fetchSportEnergy.getByFilterCategory(dataExercises);\n  if(!exercises.results.length){\n    message.info('Nothing was found for this query')\n  }\n  paginationNumbers.innerHTML = '';\n  const {totalPages} = exercises\n  pagination.getPaginationNumbers(totalPages, dataExercises);\n\n\n  pagination.setCurrentPage(1);\n  form.reset();\n  makeMarkupCards(exercises);\n} catch (err) {\n  console.log(err)\n}\n\n}\n"],"names":["form","paginationNumbers","handlerSearch","e","value","categoryName","transformCategoryName","dataExercises","exercises","fetchSportEnergy","message","totalPages","pagination.getPaginationNumbers","pagination.setCurrentPage","makeMarkupCards","err"],"mappings":"yJAKA,MAAMA,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAoB,SAAS,cAAc,qBAAqB,EACtED,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,eAAeA,EAAcC,EAAG,CAC9BA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,OAAO,MAAM,OAC7C,GAAI,CAACC,EAAO,OACZ,GAAI,CAAE,aAAAC,CAAc,EAAG,KAAK,MAAM,aAAa,QAAQ,aAAa,CAAC,EAEjEC,EAAwBD,EAAa,kBAAiB,EAAG,WAAW,IAAK,EAAE,EAE3EC,IAA0B,cAC5BA,EAAwB,YAE1B,MAAMC,EAAgB,CACpB,CAACD,GAAwBF,EACzB,KAAM,EACN,MAAO,EACX,EACA,GAAI,CACF,MAAMI,EAAY,MAAMC,EAAiB,oBAAoBF,CAAa,EACtEC,EAAU,QAAQ,QACpBE,EAAQ,KAAK,kCAAkC,EAEjDT,EAAkB,UAAY,GAC9B,KAAM,CAAC,WAAAU,CAAU,EAAIH,EACrBI,EAAgCD,EAAYJ,CAAa,EAGzDM,EAA0B,CAAC,EAC3Bb,EAAK,MAAK,EACVc,EAAgBN,CAAS,CAC3B,OAASO,EAAP,CACA,QAAQ,IAAIA,CAAG,CACjB,CAEA"}